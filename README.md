# Coinsnap for WP Forms payment plugin #
![Coinsnap for WP Forms Add-on](https://resources.coinsnap.org/products/wpforms/images/banner-772x250.png)

## Bitcoin and Lightning payments for WP Forms in WordPress ##

# Coinsnap for WPForms #

* Contributors: coinsnap
* Tags: Lightning, Lightning Payment, SATS, Satoshi sats, bitcoin, Wordpress, WP Forms, accept bitcoin, bitcoin plugin, bitcoin payment processor, bitcoin e-commerce, Lightning Network, cryptocurrency, lightning payment processor
* Requires at least: 5.2
* Tested up to: 6.8
* Requires PHP: 7.4
* Stable tag: 1.4.2
* License: GPL2
* License URI: https://www.gnu.org/licenses/gpl-2.0.html

Bitcoin and Lightning payment processing with the Coinsnap add-on for WP Forms Wordpress donation platform.

# Description #

## Accept Bitcoin payments with WPForms! ##

Enable your visitors to make purchases with Bitcoin in WPForms forms, support you with donations, pay for downloads or book events or meetings.

With the Coinsnap Bitcoin payment plugin for WPForms you only need a Lightning wallet with a Lightning address, a Coinsnap account, and a minute to set up the plugin to accept Bitcoin Lightning payments on your WordPress website.

With this plugin you can then offer Bitcoin transactions of all kinds directly within forms you create with WPForms – you need no shop system, no other payment provider or anything else to sell i.e. merchandise, content, bookings or reservations and even receive donations. And, of course, you can still use all the other payment methods provided by WPforms!

Coinsnap’s Bitcoin payment plugin for WPForms makes it amazingly simple for your customers to purchase your offerings with Bitcoin-Lightning: They can make their transactions with just a scan of the QR code generated by the Coinsnap plugin for WooCommerce, and their authorization of the payment. When authorized, the payment will be credited directly and immediately to your Lightning wallet.


## Accept Bitcoin payments with WPForms in only 3 steps: ##

* Get your [free Coinsnap account](https://app.coinsnap.io/register) with just your email
* Install, activate and configure the plugin in your WordPress backend ([see the installation guide](https://coinsnap.io/coinsnap-for-wpforms-installation-guide/))
* Create payment forms in WPForms, place them at the appropriate places on your WordPress website and accept Bitcoin payments from your customers


## Why should you choose the Coinsnap for WPForms plugin? ##

* **Amazingly simple installation** in just 3 steps and a few minutes
* **Unlimited use cases / unlimited versatility** with WPForms form builder 
* **Multilingual merchant admin dashboard** for easy administration and management of transactions.


## Why should you choose Coinsnap as your Bitcoin payment solution? ##

* **Quick and easy registration:** Just enter your email address and your Lightning address – and you are ready to integrate the payment module and start selling for Bitcoin Lightning.
* **Immediate crediting** of all payments to your wallet. 
* Payment **transfer directly from your customer’s wallet to your wallet**. 
* **Low transaction fee** of only 1 %* of the invoiced amount (*with referrer code).
* The **plugin is free of cost**, including all future updates. Stay up-to-date at absolutely no cost today or in the future.
* **Outstanding privacy**: Direct, P2P payments into your Lightning wallet, no intermediaries and paperwork. Any transaction information is only shared between you and your customer.
* **Detailed reporting** and **advanced filtering** for all transactions, **simple data export** for your accounting. 
* **Sophisticated merchant’s admin dashboard in Coinsnap**: See all your transactions at a glance, follow-up on individual payments or see issues with payments.
* **No need for any technical infrastructure**: Accept Bitcoin and Lightning payments in your online store without having to set up your own server or your own Lightning node.
* **On-chain and Lightning transactions** are supported: Let your customers choose their preferred payment method.


## Why should you offer Bitcoin payment in WPForms? ##

* **No chargebacks**: All Bitcoin payments are irreversible.
* **Lightning fast transactions**: Receive your payment within seconds (with the Lightning payment method), in minutes with on-chain.
* **Low fees** (with Lightning) 
* **Global reach**: Sell to any customer anywhere – all he needs to buy from you is a Lightning wallet.


## More information: ##

* Demo Store: [https://wpforms.coinsnap.org/](https://wpforms.coinsnap.org/)
* Product page: [https://coinsnap.io/coinsnap-for-wpforms-plugin/](https://coinsnap.io/coinsnap-for-wpforms-plugin/)
* Installation Guide: [https://coinsnap.io/coinsnap-for-wpforms-installation-guide/](https://coinsnap.io/coinsnap-for-wpforms-installation-guide/) 
* Github plugin page: [https://github.com/Coinsnap/Coinsnap-for-WPForms](https://github.com/Coinsnap/Coinsnap-for-WPForms)


## Documentation: ##

* [Coinsnap API (1.0) documentation](https://docs.coinsnap.io/)
* [Frequently Asked Questions](https://coinsnap.io/faq/) 
* [Terms and Conditions](https://coinsnap.io/general-terms-and-conditions/)
* [Privacy Policy](https://coinsnap.io/privacy/)



# Installation #

## 1. Install the Coinsnap for WPForms plugin from the WordPress plugin repository ##

**IMPORTANT NOTE:** Coinsnap for WPForms only works with the WPForms Pro version. So please make sure to update your WPForms to WPForms Pro before you install Coinsnap for WPForms!

![WPForms License key](https://resources.coinsnap.org/products/wpforms/images/screenshot-5.png)

The Coinsnap for WPForms plugin can be searched and installed in the WordPress plugin directory.

You can easily find the Coinsnap for WPForms plugin under Plugins/Install new plugin if you enter „Coinsnap for WPForms“ in the search field. Simply click on Install now in the Coinsnap plugin and WordPress will install it for you.

Now WordPress will offer you to Activate the pugin – click the button and you are set to go!

Next, you will connect the plugin with your Coinsnap account.


### 1.1. WPForms Coinsnap Settings ###

After you have installed and activated the Coinsnap for WPForms plugin, you need to configure the Coinsnap settings. Go to **WPForms / All Forms** in the black sidebar on the left. Then choose a form in which you want to implement Bitcoin-Lightning payment and click on **edit**.

In the editing space of the chosen WPForms form, open the tab **Payments** on the bottom left, then hit **Coinsnap** in the blue field. Now you can configure the plugin and connect it with your Coinsnap account (see below to learn how to find your Store ID and APO key).

**Now configure Coinsnap payment in your form:**

![Configure Coinsnap payment in your form](https://resources.coinsnap.org/products/wpforms/images/screenshot-6.png)

* **Enable Bitcoin-Lightning payment** by checking the box
* **Enter your Coinsnap Store ID**
* **Enter your Coinsnap API Key**
* **Don’t forget to click the orange “save” button on the top right above the settings!**

In the next paragraph we show you where to find your Coinsnap Store ID and your Coinsnap API Key.


### 1.2. Enter Store ID and API Key in your WPForms Coinsnap Settings ###

Go to the **Settings** menu item in your Coinsnap account. Then click on **Store** and you will see your Coinsnap **Store ID** and the Coinsnap **API Key** in the **Store** section.

**Copy** these two strings and **paste** them into the matching fields in the **Coinsnap settings in WPForms** in your WordPress backend.

Click on the “**Save changes**” button at the bottom of the page to apply and save the settings. You are ready to start selling for Bitcoin from within your WPForms forms now: Just create a form, go to Payments, choose Coinsnap, enable Coinsnap payments and place the form on your website.

= YOU ARE SET TO SELL FOR BITCOIN NOW! To be sure all works fine, you should now... =


### 1.3. Test the payment method in your WPForms store ###

![Test the payment method in your WPForms store](https://resources.coinsnap.org/products/wpforms/images/screenshot-4.png)

After all settings have been made, a test transaction should be carried out.

Place an order in one of your WPForms forms and click the blue payment button. 

You will now be redirected to the Bitcoin payment page to complete the purchase.

The Bitcoin payment page is now displayed and offers the payer the option of paying with Bitcoin or Lightning. Both methods are integrated in the displayed QR code.

![Scan the QR code](https://resources.coinsnap.org/products/wpforms/images/screenshot-10.png)

The buyer just needs to scan the QR code with his Bitcoin-Lighting wallet and authorize the payment. He will see the confirmation of his purchase with all details. And the respective Sats have been transferred directly into your (the merchant’s) Bitcoin-Lightning wallet!


## 2. Install the Coinsnap WPFormsplugin from our Github page ##

If you don’t want to install Coinsnap WPForms plugin directly from your WordPress backend, download the Coinsnap for WPForms plugin from the [Coinsnap Github page here](https://github.com/Coinsnap/Coinsnap-for-WPForms).

Find the green button labeled **Code**. When you click on it, the menu opens and Download ZIP appears. Here you can download the latest version of the Coinsnap plugin to your computer.

Then use the “**Upload plugin**” function to install it. Click on “**Install now**” and the Coinsnap for WPForms plugin will be added to your WordPress website. It can then be connected to the Coinsnap payment gateway.

As soon as the Coinsnap for WPForms plugin is installed and activated, a message will appear asking you to configure the plugin settings.

From here on you can follow 1.1 to 1.3 and you will be set to sell for Bitcoin in no time at all!


# Changelog

##### 1.0.0 :: 2024-03-05
* First public release for testing.

##### 1.0.1 :: 2024-12-10 =
* Fixed bug in ConnectException handler.

##### 1.0.2 :: 2024-12-23
* Fixed COINSNAP_WPFORMS_VERSION constant name bug.
* Fixed mismatch variables types bug in ConnectException function call.

##### 1.0.3 :: 2025-02-09
* Update: Coinsnap server connection check indication in backend marks as "WP Forms".

##### 1.0.4 :: 2025-03-01
* Update: Prevented plugin activation with non-installed and non-active WP Forms plugin.
* Fixed getExceptionByStatusCode() method call status code parameter type.
* Tested on WP Forms 1.9.4.1.

##### 1.0.5 :: 2025-03-20
* Fixed: added methods log_errors(), display_errors().
* Fixed: added webhook with empty invoice Id handler.

##### 1.1.0 :: 2025-04-07
* Update: Added option "Redirect after payment automatically".
* Update: Prevented redirect to payment gateway if payment amount is less than 1 SAT or currency in not supported by Coinsnap.
* Fixed: Webhook check and creation error exception

##### 1.1.1 :: 2025-04-29
* Tested on WP Forms 1.9.5.1.
* Compatibility with Wordpress 6.8 is tested.

##### 1.2.0 :: 2025-05-30
* Update: Coinsnap Wordpress library.
* Update: BTCPay server added as a Bitcoin payment gateway
* Update: Prevented redirect to BTCPay server if payment amount is less than 0.000005869 BTC (0.50 EUR) for onchain payments, 0.000001 BTC (1 SAT) for Lightning payment or currency is not supported.
* Update: BTCPay setup wizard is added in BTCPay server settings.
* Update: Minimum order amount is added to connection status notice.

##### 1.3.0 :: 2025-06-23
* Update: Unique name for BTCPay server setup Wizard return URL is set.
* Update: Webhook data is saved as setting in Wordpress database.
* Update: Added secret string check in webhook payload process.
* Compatibility with WPForms Plugin 1.9.6.1 is tested.

##### 1.3.1 :: 2025-07-10
* Updated **Generate API key** button behavior.
* Compatibility with WPForms Plugin 1.9.6.2 is tested.
* Updated Coinsnap Wordpress library.
* Updated WPForms Pro plugin check.

##### 1.4.0 :: 2025-08-18
* Update: Added nonce check for BTCPay server request in Wizard setup flow.
* Updated BTCPay server minimum payment amount calculation system
* Updated BTCPay server events and webhook payload handler
* Compatibility with WPForms Plugin 1.9.7.3 is tested.

##### 1.4.1 :: 2025-09-28
* Updated registration and webhook payload handler
* Compatibility with WPForms Plugin 1.9.8.1 is tested.

##### 1.4.2 :: 2025-10-14 =
* Update: Added non-supported by BTCPay server currencies handler on invoice flow.
* Update: Added custom redirect after payment page in module settings.
* Compatibility with WPForms Plugin 1.9.8.2 is tested.

